<script src="/socket.io/socket.io.js"></script>
<script src="/bower_components/jquery/dist/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/jsbelt/lib/belt.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/underscore/underscore-min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/underscore.string/dist/underscore.string.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/jsbelt/lib/belt.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/async/dist/async.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/moment/min/moment.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/query-object/query-object.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/moment-timezone/builds/moment-timezone-with-data.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  var Async = async
    , Moment = moment
    , Str = s
    , Socket = io('/')
    , GB = {};

  <% if (typeof js_data !== 'undefined'){ %>
    GB['data'] = <%= Belt.stringify(js_data) %>;
  <% } else { %>
    GB['data'] = {};
  <% } %>

  <% if (Belt.get(Instance, 'all_categories')){ %>
    GB['product_categories'] = <%= Belt.stringify(Instance.all_categories) %>;
  <% } else { %>
    GB['product_categories'] = [];
  <% } %>

  <% if (typeof Settings.localities !== 'undefined'){ %>
    GB['localities'] = <%= Belt.stringify(Settings.localities) %>;
  <% } else { %>
    GB['localities'] = {};
  <% } %>


  <% if (typeof Instance.vendor_ids !== 'undefined'){ %>
    GB['vendors'] = <%= Belt.stringify(_.object(_.map(Instance.vendor_ids, function(v, k){
      return v.name;
    }), _.keys(Instance.vendor_ids))) %>;
  <% } else { %>
    GB['vendors'] = {};
  <% } %>
</script>

<script src="/bower_components/backbone/backbone-min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/bootheel/bootheel.js" type="text/javascript" charset="utf-8"></script>
<script src="/public/admin/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/bower_components/bootbox/bootbox.js" type="text/javascript" charset="utf-8"></script>
<script src="/public/js/util.js" type="text/javascript" charset="utf-8"></script>
<script src="/templates.js" type="text/javascript" charset="utf-8"></script>
<% if (typeof js_files !== 'undefined') _.each(js_files, function(e){ %>
  <script src="<%= e %>" type="text/javascript" charset="utf-8"></script>
<% }) %>

<script src="/public/admin/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="/public/admin/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="/public/admin/js/inspinia.js"></script>
<script src="/public/admin/js/plugins/pace/pace.min.js"></script>
<script src="/public/admin/js/plugins/flot/jquery.flot.js"></script>
<script src="/public/admin/js/plugins/flot/jquery.flot.tooltip.min.js"></script>
<script src="/public/admin/js/plugins/flot/jquery.flot.resize.js"></script>
<script src="/public/admin/js/plugins/dropzone/dropzone.js"></script>
<script src="/public/admin/js/plugins/chartJs/Chart.min.js"></script>
<script src="/public/admin/js/plugins/iCheck/icheck.min.js"></script>
<script src="/public/admin/js/plugins/peity/jquery.peity.min.js"></script>
<script src="/public/admin/js/demo/peity-demo.js"></script>
<script src="/public/admin/js/plugins/bootstrap-tagsinput/bootstrap-tagsinput.js"></script>
<script src="/public/admin/js/plugins/select2/select2.full.min.js"></script>
<script src="/public/admin/js/plugins/jasny/jasny-bootstrap.min.js"></script>
<script src="/bower_components/pleasejs/dist/Please.js"></script>
<script src="/bower_components/Sortable/Sortable.min.js"></script>

<script>
  Dropzone.autoDiscover = false;

  Instance['vendor_ids'] = <%= Belt.stringify(Instance.vendor_ids) %>;
</script>
