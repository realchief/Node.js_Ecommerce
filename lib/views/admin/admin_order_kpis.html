<!DOCTYPE html>
<html>
  <head>
    <%= Render('admin_head', Locals) %>
  </head>
  <body class="top-navigation">
    <div id="wrapper">
      <div id="page-wrapper" class="gray-bg">
        <%= Render('admin_nav', Locals) %>

        <div class="wrapper wrapper-content">
          <div class="row">
            <div class="col-lg-12">
              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>TOTALS</h5>
                </div>
                <div class="ibox-content">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-page-size="1" data-filter=#totals-filter>
                      <thead>
                        <tr>
                          <% _.each(data.total, function(v, k){ %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <% _.each(data.total, function(v, k){ %>
                            <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                              <% v = '$' + Instance.priceString(v); %>
                            <% } %>
                            <% if (k.match(/aou/)){ %>
                              <% v = v; %>
                            <% } %>
                            <td><%= v %></td>
                          <% }) %>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY VENDOR</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="vendors-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#vendors-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>vendor</strong></td>
                          <% _.each(_.values(data.vendors)[0], function(v, k){ %>
                            <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.vendors, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY BRAND</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="brands-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#brands-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>brand</strong></td>
                          <% _.each(_.values(data.brands)[0], function(v, k){ %>
                            <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.brands, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY CATEGORY</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="categories-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#categories-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>category</strong></td>
                          <% _.each(_.values(data.categories)[0], function(v, k){ %>
                            <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.categories, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY SIZE</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="sizes-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#sizes-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>size</strong></td>
                          <% _.each(_.values(data.categories)[0], function(v, k){ %>
                            <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.sizes, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY STATUS</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="statuses-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#statuses-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>status</strong></td>
                          <% _.each(_.values(data.statuses)[0], function(v, k){ %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.statuses, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY PROMO CODE</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="codes-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#codes-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>code</strong></td>
                          <% _.each(_.values(data.promo_codes)[0], function(v, k){ %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.promo_codes, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="ibox float-e-margins">
                <div class="ibox-title">
                  <h5>BY PRODUCT</h5>
                </div>
                <div class="ibox-content">
                  <input type="text" class="form-control input-sm m-b-xs" id="products-filter" placeholder="Search in table">
                  <div class="table-responsive">
                    <table class="footable table table-stripped" data-filter=#products-filter data-page-size="10000">
                      <thead>
                        <tr>
                          <td><strong>status</strong></td>
                          <% _.each(_.values(data.products)[0], function(v, k){ %>
                            <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                            <td><%= k %></td>
                          <% }) %>
                        </tr>
                      </thead>
                      <tbody>
                        <% _.each(data.products, function(d, k2){ %>
                          <tr>
                            <td><strong><%= k2 %></strong></td>
                            <% _.each(d, function(v, k){ %>
                              <% if (k.match(/^(revenue|refunded\_revenue)$/)) return; %>
                              <% if (k.match(/revenue|payments|discounts|tax|shipping|aov/)){ %>
                                <% v = Instance.priceString(v); %>
                              <% } %>
                              <% if (k.match(/aou/)){ %>
                                <% v = v; %>
                              <% } %>
                              <td><%= v %></td>
                            <% }) %>
                          </tr>
                        <% }) %>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <%= Render('admin_javascript', Locals) %>
    <script>
        $(document).ready(function() {
          $('.footable').footable();
        });
    </script>

  </body>
</html>
