<div id="container" class="row">
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-content">
        <div class="pull-right">
          <% if (data.button_title !== 'Create'){ %>
            <a href="/product/<%= Request.data().slug || Request.data()._id %>" target="_blank" class="btn btn-default">Preview</a>
            <a href="/product/<%= Request.data()._id %>/read.json" target="_blank" class="btn btn-default">JSON</a>
            <button name="refresh_media" class="btn btn-default" type="submit">Refresh Images</button>
          <% } %>
          <button name="submit" class="btn btn-primary" type="submit"><%= data.button_title %></button>
        </div>
        <h1><%= title %></h1>
        <div class="hr-line-dashed"></div>
        <form class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-1 control-label">Name</label>
            <div class="col-sm-11">
              <input name="name" type="text" class="form-control" placeholder="name" data-get="name" data-get-method="val()" data-set="name" data-set-method="val">
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <label class="col-sm-1 control-label">Slug</label>
            <div class="col-sm-11">
              <input name="slug" type="text" class="form-control" placeholder="slug" data-get="slug" data-get-method="val()" data-set="slug" data-set-method="val">
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <label class="col-sm-1 control-label">Manual Brand</label>
            <div class="col-sm-11">
              <input name="manual_brand" type="text" class="form-control" placeholder="manual_brand" data-get="manual_brand" data-get-method="val()" data-set="manual_brand" data-set-method="val">
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <div class="col-sm-12">
              <div>
                <label> <input type="checkbox" class="i-checks" data-get="hide" data-get-method="isChecked()" data-set="hide" data-set-method="makeChecked"> Hidden?</label>
              </div>
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <div class="col-sm-12">
              <div>
                <label> <input type="checkbox" class="i-checks" data-get="show" data-get-method="isChecked()" data-set="show" data-set-method="makeChecked"> Force Shown?</label>
              </div>
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <div class="col-sm-12">
              <div>
                <label> <input type="checkbox" class="i-checks" data-set="sync_hide" data-set-method="makeChecked" data-get="sync_hide" data-get-method="isChecked()"> Auto-Hidden?</label>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-1 control-label">Reason Auto-Hidden</label>
            <div class="col-sm-11">
              <input name="hide_note" type="text" class="form-control" data-set="hide_note" data-set-method="val" data-get="hide_note" data-get-method="val()">
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Label</legend>
            <div class="form-group">
              <label class="col-sm-1 control-label">US</label>
              <div class="col-sm-11">
                <input name="label.us" type="text" class="form-control" placeholder="label.us" data-get="label.us" data-get-method="val()" data-set="label.us" data-set-method="val">
              </div>
            </div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Description</legend>
            <div class="form-group">
              <label class="col-sm-1 control-label">US</label>
              <div class="col-sm-11">
                <textarea name="description.us" type="text" class="form-control" placeholder="description.us" data-get="description.us" data-get-method="val()" data-set="description.us" data-set-method="val" rows="3"></textarea>
              </div>
            </div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Editorial Notes</legend>
            <div class="form-group">
              <label class="col-sm-1 control-label">US</label>
              <div class="col-sm-11">
                <textarea name="editorial_notes.us" type="text" class="form-control" placeholder="editorial_notes.us" data-get="editorial_notes.us" data-get-method="val()" data-set="editorial_notes.us" data-set-method="val" rows="3"></textarea>
              </div>
            </div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Shipping & Returns</legend>
            <div class="form-group">
              <label class="col-sm-1 control-label">US</label>
              <div class="col-sm-11">
                <textarea name="shipping_returns.us" type="text" class="form-control" placeholder="shipping.us" data-get="shipping_returns.us" data-get-method="val()" data-set="shipping_returns.us" data-set-method="val" rows="3"></textarea>
              </div>
            </div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Sizing Guide</legend>
            <div class="form-group">
              <label class="col-sm-1 control-label">US</label>
              <div class="col-sm-11">
                <textarea name="sizing_guide.us" type="text" class="form-control" placeholder="sizing_guide.us" data-get="sizing_guide.us" data-get-method="val()" data-set="sizing_guide.us" data-set-method="val" rows="3"></textarea>
              </div>
            </div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Options <button name="option_create" class="btn btn-default">Add New</button></legend>
            <div name="options" data-set="options" data-set-method="html"></div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <label class="col-sm-1 control-label">vendor</label>
            <div class="col-sm-11">
              <input name="vendor" type="text" class="form-control" placeholder="vendor" data-set="vendor" data-set-method="val">
              <p><strong data-set="vendor_name"></strong></p>
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <label class="col-sm-1 control-label">brands</label>
            <div class="col-sm-11">
              <textarea name="brands" type="text" class="form-control" placeholder="brands" data-get="brands" data-get-method="val()" data-get-transformer="split_lines" rows="5" data-set="brands" data-set-method="val" data-set-transformer="join_lines"></textarea>
              <span class="help-block m-b-none">One brand per line</span>
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group">
            <label class="col-sm-1 control-label"></label>
            <div class="col-sm-6">
              <select name="product_categories" class="form-control" placeholder="existing categories">
                <% _.each(Instance.categories_whitelist || Instance.all_categories, function(p){ %>
                  <option value="<%= p %>"><%= p %></option>
                <% }) %>
              </select>
            </div>
            <button name="add_product_category" class="col-sm-1 btn btn-default">Add Category</button>
          </div>
          <div class="form-group">
            <label class="col-sm-1 control-label">categories</label>
            <div class="col-sm-11">
              <textarea name="categories" type="text" class="form-control" placeholder="categories" data-get="categories" data-get-method="val()" data-get-transformer="split_lines" rows="5" data-set="categories" data-set-method="val" data-set-transformer="join_lines"></textarea>
              <span class="help-block m-b-none">One category per line</span>
              <% if (typeof categories !== 'undefined' && categories[0]){ %>
                <span class="help-block m-b-none">Current category: <strong data-set="categories.0"></strong></span>
              <% } %>
              <% if (typeof auto_category !== 'undefined'){ %>
                <span class="help-block m-b-none">Current auto category: <strong data-set="auto_category"></strong></span>
              <% } %>
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Stocks <button name="stock_create" class="btn btn-default">Add New</button></legend>
            <div name="stocks" data-set="stocks" data-set-method="html"></div>
          </fieldset>
          <div class="hr-line-dashed"></div>
          <fieldset>
            <legend>Media</legend>
            <div class="form-group">
              <div name="media_files" class="col-sm-10 col-sm-offset-1 dropzone">
                <div class="fallback">
                  <input type="file" multiple />
                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-1 control-label">or import from urls</label>
              <div class="col-sm-10">
                <textarea name="media_urls" type="text" class="form-control" placeholder="URLs to media files" rows="5"></textarea>
                <span class="help-block m-b-none">One URL per line</span>
              </div>
            </div>
            <button name="media_create" class="btn btn-default">Add Media</button>
            <div class="hr-line-dashed"></div>
            <div name="medias" data-set="media" data-set-method="html"></div>
          </fieldset>
          <div class="hr-line-dashed"></div>
        </form>
        <form class="form-horizontal">
          <div class="form-group">
            <div class="col-sm-6 col-sm-offset-6">
              <div class="pull-right">
                <% if (data.button_title !== 'Create'){ %>
                  <a href="/product/<%= Request.data().slug || Request.data()._id %>" target="_blank" class="btn btn-default">Preview</a>
                  <a href="/product/<%= Request.data()._id %>/read.json" target="_blank" class="btn btn-default">JSON</a>
                  <button name="refresh_media" class="btn btn-default" type="submit">Refresh Images</button>
                <% } %>
                <button name="submit" class="btn btn-primary" type="submit"><%= data.button_title %></button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
