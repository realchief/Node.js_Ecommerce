<%
  var index = Math.ceil(((skip || 0) + 1) / limit)
    , max = Math.ceil(count / limit);
%>
<%
  var sort = typeof sort !== 'undefined' ? sort : false;
%>

<div class="dropdown dropdown--border-thick dropdown--muted dropdown--inline-block" name="filter">
  <button class="btn dropdown-toggle dropdown-toggle--has-arrow" type="button" data-toggle="dropdown">
    <% if (sort === '-created_at'){ %>
      NEWEST
    <% } else if (sort === 'low_price'){ %>
      PRICE LOW TO HIGH
    <% } else if (sort === '-high_price'){ %>
      PRICE HIGH TO LOW
    <% } else { %>
      SORT
    <% } %>
  </button>
  <div class="dropdown-menu dropdown-menu-right">
    <a class="dropdown-item" href="#" data-sort="-created_at">Newest</a>
    <a class="dropdown-item" href="#" data-sort="low_price">Price Low to High</a>
    <a class="dropdown-item" href="#" data-sort="-high_price">Price High to Low</a>
  </div>
</div>

<% if (max > 1){ %>
  <ul class="pagination pagination--shop-product ml-3">
    <% if (index > 1){ %>
      <li class="page-item">
        <a class="page-link" tabindex="-1" data-index="<%= index - 1 %>">«</a>
      </li>
    <% } %>
    <% if (index - 1 >= 1){ %>
      <li class="page-item">
        <a class="page-link"  data-index="<%= index - 1 %>" href="#"><%= index - 1 %></a>
      </li>
    <% } %>
    <li class="page-item">
      <a class="page-link page-link--curent" href="#" data-index="<%= index %>"><%= index %></a>
    </li>
    <% if (index + 1 <= max){ %>
      <li class="page-item">
        <a class="page-link"  data-index="<%= index + 1 %>" href="#"><%= index + 1 %></a>
      </li>
    <% } %>
    <% if (index + 2 <= max){ %>
      <li class="page-item">
        <a class="page-link"  data-index="<%= index + 2 %>" href="#"><%= index + 2 %></a>
      </li>
    <% } %>
    <% if (index + 1 <= max){ %>
      <li class="page-item">
        <a class="page-link"  data-index="<%= index + 1 %>" href="#">»</a>
      </li>
    <% } %>
  </ul>
<% } %>
